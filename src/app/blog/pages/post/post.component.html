<div class="container">
  <div class="row">
    <div *ngIf="showAlert">
      <div class="alert alert-primary" role="alert">
        Post is updated!
      </div>
    </div>
    <div class="col-8 offset-2">
      <!-- <form [formGroup]="postForm" (ngSubmit)="createPost()">
        <div class="mt-3">
          <label for="userId" class="form-label">User Id:</label>
          <input
            formControlName="userId"
            type="text"
            class="form-control"
            placeholder="User id"
          />
        </div>

        <div class="mt-3">
          <label for="userId" class="form-label">Title</label>
          <input
            formControlName="title"
            type="text"
            class="form-control"
            placeholder="Post title"
          />
        </div>

        <div class="mt-3">
          <label for="userId" class="form-label">Body</label>
          <input
            formControlName="body"
            type="text"
            class="form-control"
            placeholder="Post body"
          />
        </div>

        <div class="mt-3">
          <button type="submit" class="btn btn-primary">Create new post.</button>
        </div>
      </form> -->
      <app-post-form [editMode]="false" (onSubmit)="createPost($event)"></app-post-form>
    </div>
  </div>

  <div class="row">
    <ng-container *ngIf="!loading">
      <div class="col-6 mt-3" *ngFor="let post of posts">

        <div class="card" (click)="selectPost(post)">
          <div class="card-body" >
            <h2>{{ post.title }}</h2>
            <p>{{ post.body }}</p>
          </div>
          <div class="card-footer">
            <button (click)="deletePost(post.id)" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </div>
    </ng-container>

    <p *ngIf="loading">Loading...</p>
  </div>
</div>
